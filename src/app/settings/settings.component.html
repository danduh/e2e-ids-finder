<div class="dds__container dds__container--compact">
  <form [formGroup]="configForm" (ngSubmit)="saveConfig()">
  <fieldset class="dds__form__section">
    <div class="dds__form__field">
      <input matInput size="sm" [required]="true" formControlName="attributeId">
        <mat-label visual-indicator="on">Set E2E Attribute => [a-Z,0-9,-,_]</mat-label>
        <mat-hint>Enter E2E Attribute Name</mat-hint>
        <mat-error>Attribute is required</mat-error>
    </div>
    <div class="dds__form__field">
      <mat-checkbox size="sm"formControlName="includeShadowDom">
        <mat-label visual-indicator="on">Include Shadow Dom (beta)</mat-label>
      </mat-checkbox>
    </div>
    <div class="dds__form__field">
      <mat-select size="sm" formControlName="instanceType">
        <mat-label visual-indicator="on">Select AI Instance</mat-label>
        <mat-hint>Select what instance you want to interact with</mat-hint>
        <option value="AzureAI">AzureAI</option>
        <option value="OpenAI">OpenAI/Llama</option>
      </mat-select>
    </div>
    <div class="dds__form__field">
      <input matInput size="sm" formControlName="apiEndPoint">
        <mat-label visual-indicator="on">AI EndPoint <small>for on-prem Models</small></mat-label>
    </div>
    <div class="dds__form__field">
      <input matInput type="password" size="sm" formControlName="openAIKey">
        <mat-label visual-indicator="on">OpenAI API Key</mat-label>
    </div>
    <div class="dds__form__field">
      <input matInput size="sm" formControlName="modelName">
        <mat-label visual-indicator="on">Model Name <small>gpt-4-turbo / gpt-4o / llama3</small></mat-label>
        <mat-error>Model is required</mat-error>
    </div>

  </fieldset>
  <div class="dds__form__field">
    <button mat-button size="mini" class="btn default" type="submit">Save</button>
    <button mat-button size="mini" class="btn default" type="button" (click)="testSettings()">Test Settings</button>
  </div>
  </form>
<!--  <dds-overlay [visible]="loaderVisible" aria-live="polite">-->
<!--    <dds-loading-indicator [elevation]="true" size="md">Waiting for AI</dds-loading-indicator>-->
<!--  </dds-overlay>-->
</div>

<!--<dds-modal size="md" #modal>-->
<!--  <dds-modal-header>Test Connection</dds-modal-header>-->
<!--  <dds-modal-body>-->
<!--    {{testResponse}}-->
<!--  </dds-modal-body>-->
<!--</dds-modal>-->
